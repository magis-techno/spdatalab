# =============================================================================
# spdatalab 项目环境变量配置示例
# 复制此文件为 .env 并填写实际值
# =============================================================================

# =============================================================================
# 多模态轨迹检索系统配置（必需）
# =============================================================================

# API密钥（必需）
MULTIMODAL_API_KEY=your_actual_api_key_here

# 用户名（必需）
MULTIMODAL_USERNAME=your_username_here

# API基础URL（必需）
MULTIMODAL_API_BASE_URL=https://your-api-server.com

# =============================================================================
# 多模态轨迹检索系统配置（可选，有默认值）
# =============================================================================

# 项目名称（默认：your_project）
MULTIMODAL_PROJECT=your_project

# 平台标识（默认：xmodalitys-external）
MULTIMODAL_PLATFORM=xmodalitys-external

# 区域标识（默认：RaD-prod）
MULTIMODAL_REGION=RaD-prod

# 入口版本（默认：v2）
MULTIMODAL_ENTRYPOINT_VERSION=v2

# API路径（默认：/xmodalitys/retrieve）
MULTIMODAL_API_PATH=/xmodalitys/retrieve

# 超时时间（秒，默认：30）
MULTIMODAL_TIMEOUT=30

# 最大重试次数（默认：3）
MULTIMODAL_MAX_RETRIES=3

# =============================================================================
# OBS（华为云对象存储）配置（必需 - 用于数据集读取）
# =============================================================================

# OBS Endpoint地址（必需）
S3_ENDPOINT=https://obs.cn-southwest-2.myhuaweicloud.com

# 是否使用HTTPS（默认：0）
S3_USE_HTTPS=0

# OBS访问密钥ID（必需）
ADS_DATALAKE_USERNAME=your_access_key_id_here

# OBS访问密钥（必需）
ADS_DATALAKE_PASSWORD=your_secret_access_key_here

# =============================================================================
# 数据库配置
# =============================================================================

# 本地数据库配置
LOCAL_DB_HOST=local_pg
LOCAL_DB_PORT=5432
LOCAL_DB_NAME=postgres
LOCAL_DB_USER=postgres
LOCAL_DB_PASSWORD=postgres

# 远程数据库配置
REMOTE_DB_HOST=your_remote_db_host
REMOTE_DB_PORT=9001
REMOTE_DB_NAME=your_database_name
REMOTE_DB_USER=your_db_username
REMOTE_DB_PASSWORD=your_db_password

# =============================================================================
# 批处理配置（可选，有默认值）
# =============================================================================

# 临时表前缀（默认：temp_bbox_batch）
TEMP_TABLE_PREFIX=temp_bbox_batch

# 默认批处理大小（默认：1000）
DEFAULT_BATCH_SIZE=1000

# 最大重试次数（默认：3）
MAX_RETRIES=3

# 超时时间（秒，默认：300）
TIMEOUT_SECONDS=300

# =============================================================================
# 使用说明
# =============================================================================

# 1. 复制此文件并重命名为 .env
#    cp env.example .env

# 2. 根据功能需求填写相应配置：
#    - OBS对象存储：必须配置 S3_ENDPOINT, ADS_DATALAKE_USERNAME, ADS_DATALAKE_PASSWORD
#    - 多模态功能：必须配置 MULTIMODAL_* 相关变量
#    - 数据库功能：配置 LOCAL_DB_* 和 REMOTE_DB_* 变量
#    - 批处理功能：可选配置 TEMP_TABLE_PREFIX 等变量

# 3. 确保 .env 文件不要提交到版本控制系统
#    echo ".env" >> .gitignore

# 4. 测试配置是否正确：
#    # 使用诊断脚本（推荐）
#    python scripts/utilities/check_env_config.py
#    
#    # 或手动测试各项配置
#    python -c "from spdatalab.common.config import getenv; print('✅ OBS配置:', getenv('S3_ENDPOINT'), getenv('ADS_DATALAKE_USERNAME')[:5]+'***')"
#    python -c "from spdatalab.dataset.multimodal_data_retriever import APIConfig; print('✅ 多模态配置正确!' if APIConfig.from_env() else '❌ 多模态配置错误')"
#    python -c "from spdatalab.fusion.config import Config; print('✅ 数据库配置正确!', Config.get_local_db_config().dsn)"

# =============================================================================
# 功能模块说明
# =============================================================================

# OBS对象存储：用于读取和下载数据集文件（训练数据、场景数据等）
# 多模态轨迹检索：用于基于文本/图片的轨迹检索和分析
# 数据库连接：用于连接PostgreSQL和远程数据库
# 批处理：用于大规模数据处理的批量操作配置
